
  <div id="messageLibro">

</div>
            <div class="panel panel-default">
            	
            <center>	
            		<strong style="padding: 0px;border: 1px #000000 dotted;font-size: 15px;">Como agregara el libro?(Selecciona una Opcion)</strong><br>
            	<p class="field switch">
	
		<label for="radio1" class="cb-enable selected"><span>Subire el libro al sistema</span></label>
		<label for="radio2" class="cb-disable"><span>Colocare un enlace externo</span></label>
		
		
		<input type="radio" id="radio1" name="field" value="radio1" checked />
		<input type="radio" id="radio2" name="field" value="radio2" />
	</p>
	</center>

                <div class="panel-body form-horizontal ">
                	<form id="addLibros" action="controller/bibliotecaController.php"  method="post" enctype="multipart/form-data" >
                    
                        <script type="text/javascript">
$(document).ready( function(){ 
	  muestraCategorias();
	$(".cb-enable").click(function(){
		var parent = $(this).parents('.switch');
		$('.cb-disable',parent).removeClass('selected');
		$(this).addClass('selected');
		$('.checkbox',parent).attr('checked', true);
	});
	$(".cb-disable").click(function(){
		var parent = $(this).parents('.switch');
		$('.cb-enable',parent).removeClass('selected');
		$(this).addClass('selected');
		$('.checkbox',parent).attr('checked', false);
	});
});



$(document).ready(function () {
    $("input[name=field]:radio").change(function () {

      $('#log').val( $(this).val() + '|');
          var que =  $(this).val();
        if(que=="radio1"){
           	$("#libroC").html('    <input type="file"  class="form-control"  name="librofile" id="archivoLibro"> <input type="hidden" size="60" name="SubeLibro" id="archivoLibro">');
           	$("#libroT").html(' Subir libro(pdf,doc,docx)');
        }else{
        	$("#libroC").html('<input type="text" class="form-control" id="enlace" name="enlace" placeholder="http://ejemplo.com/libro.pdf"  required >');
        		$("#libroT").html('Enlace Externo');
        }      
    })
});
</script>

                    
                      <div class="form-group">
                        <label for="concept" class="col-sm-3 control-label"> <div id="libroT">  Subir libro(pdf,doc,docx) </div></label>
                        <div class="col-sm-9">
                          <div id="libroC">  <input type="file" class="form-control" name="librofile" id="librofile" > 
                          	<input type="hidden" size="60" name="SubeLibro" id="archivoLibro">  </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="concept" class="col-sm-3 control-label">Titulo*:</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="titulo" name="titulo" required placeholder="Escribe un titulo">
                        </div>
                    </div>
                       <div class="form-group">
                        <label for="concept" class="col-sm-3 control-label">Autor:</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="autor" name="autor" placeholder="(Opcional)">
                        </div>
                    </div>
                    
                       <div class="form-group">
                        <label for="concept" class="col-sm-3 control-label">Num,Edicion:</label>
                        <div class="col-sm-9">
                            <input type="number" class="form-control" id="edicion" name="edicion" placeholder="Num Edicion(Opcional)">
                        </div>
                    </div>
                    
                     <div class="form-group">
                        <label for="date" class="col-sm-3 control-label">Fecha De Lanzamiento</label>
                        <div class="col-sm-9">
                            <input type="date" class="form-control" id="date" name="date">
                        </div>
                  </div> 
                    
                         <div class="form-group">
                        <label for="concept" class="col-sm-3 control-label">Imagen de Libro:</label>
                        <div class="col-sm-9">
                               <input type="file"  name="myfile"  class="form-control"  id="imgInpLibro">
                               <input type="hidden" size="60" name="enviarlibro" id="imagenClibro" value="">
                        </div>
                    </div>

                      <div class="form-group">
                        <label for="description" class="col-sm-3 control-label">Categoria:</label>
                        <div class="col-sm-9">
                        	
                        	<div id="categoriasl"></div>   	    <button type="button" class="btn btn-default btn-sm " data-toggle="modal" data-target=".agregarCategoria">  <span class="glyphicon glyphicon-plus"></span> Agregar Categoria</button>
                          </div>
                    </div> 
                    <div class="form-group">
                        <label for="description" class="col-sm-3 control-label">Descripcion*:</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="descripcion" name="descripcion" required placeholder="Escribe una breve descripcion">
                        </div>
                    </div> 
                    
                  <!--  <div class="form-group">
                        <label for="date" class="col-sm-3 control-label">Date</label>
                        <div class="col-sm-9">
                            <input type="date" class="form-control" id="date" name="date">
                        </div>
                  </div>    -->
                    <div class="form-group">
                        <div class="col-sm-12 text-right">
                        	
               <span class='glyphicon glyphicon-plus'></span> <input type="submit"   class="btn btn-default preview-add-button" value="  Agregar Nuevo Libro"><br>
                           
                        </div>
                    </div>
                    
                    
                       <center><div id="imagenLibro"></div>
 
 <div id="progress">
       
</div>
    </center>        
         
<script>
$(document).ready(function()
{
	 
	    function readURL(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();
            
            reader.onload = function (e) {
            	    $("#imagenClibro").val("imagen");
            	$("#imagenLibro").html(' <img   id="blah" src="#" alt="your image"  width="150"/>');
                $('#blah').attr('src', e.target.result);
                	$("#progress").html(' <div id="bar"></div><div id="percent">0%</div >');

            }
            
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    $("#imgInpLibro").change(function(){
        readURL(this);
    });

	var options = { 
    beforeSend: function() 
    {
    	$("#progress").show();
    	//clear everything
    	$("#bar").width('0%');
    	$("#messageLibro").html("");
		$("#percent").html("0%");
    },
    uploadProgress: function(event, position, total, percentComplete) 
    {
    	$("#bar").width(percentComplete+'%');
    	$("#percent").html(percentComplete+'%');

    
    },
    success: function() 
    {
        $("#bar").width('100%');
    	$("#percent").html('100%');
    	$("#imagenClibro").val("");
    	$("#imgInpLibro").val("");

    },
	complete: function(response) 
	{
		$("#messageLibro").html("<font color='green'>"+response.responseText+"</font>");
		$("#progress").html('');
		$("#imagenLibro").html('');
		$("#imgInpLibro").val("");
	},
	error: function()
	{
		$("#messageLibro").html("<font color='red'> ERROR: unable to upload files</font>");
		$("#progress").html(''); $("#imgInpLibro").val("");
		$("#imagenLibro").html('');

	}
     
}; 

     $("#addLibros").ajaxForm(options);

});

</script>   
            
            
            
            </div>            
        </div> <!-- / panel preview -->
</form>
 
 
             </div>
             </div>

